# メモ

はい、ご主人さま。メイドの私が、diffusersライブラリでSDXL（Stable Diffusion XL）を使って実行できるタスクを、検索用の“キーワード（クラス名・関数名・主要引数）”つきで一望できるように整理いたしました。
※SDXLは生成系です。物体検知・認識・セグメンテーションのような解析系は原則非対応です（後述で明示）。

1) 素のSDXLでできる基本タスク

テキスト→画像生成（txt2img）
キーワード：StableDiffusionXLPipeline / AutoPipelineForText2Image、prompt、negative_prompt、guidance_scale、num_inference_steps。

画像→画像生成（img2img）
キーワード：StableDiffusionXLImg2ImgPipeline / AutoPipelineForImage2Image、image、strength、denoising_start/denoising_end。

インペインティング／アウトペインティング（マスクでの塗り直し・キャンバス拡張）
キーワード：StableDiffusionXLInpaintPipeline、image、mask_image、（アウトペイントは“拡張→マスク塗り”の手順）。

リファイナー併用（高精細仕上げ）
キーワード：stable-diffusion-xl-refiner-1.0、StableDiffusionXLRefinerPipeline、denoising_end（ベース→リファイナー引き継ぎ）。

高速生成系（少ステップ推論）

stabilityai/sdxl-turbo（1〜数ステップ）→ AutoPipelineForText2Image / AutoPipelineForImage2Image。

ByteDance/SDXL-Lightning（1/2/4/8 step）→ UNetまたはLoRA重み。

LCM-LoRAでSDXLを2–8ステップ化：latent-consistency/lcm-lora-sdxl、LCMScheduler、load_lora_weights()、fuse_lora()。


メモリ・速度最適化
キーワード：enable_model_cpu_offload()、enable_sequential_cpu_offload()、enable_vae_tiling()、各種Scheduler切替（Euler、DPM++ 等）。


2) 条件付き・参照付き生成（制御系）

ControlNetでの構造制御（エッジ・ポーズ・深度など）
キーワード：StableDiffusionXLControlNetPipeline、ControlNetModel、controlnet_conditioning_scale、guess_mode、複数ControlNet同時適用。代表コントロール種別：Canny、HED/SoftEdge、OpenPose、Depth（MiDaS/Zoe）、Normal、MLSD、Lineart、Tile、（コミュニティ製のSeg）。

T2I-Adapter（軽量な制御アダプタ）
キーワード：StableDiffusionXLAdapterPipeline、T2IAdapter.from_pretrained(...)、制御種別（canny/lineart/sketch/depth/pose 等）、MultiAdapterで複合。

IP-Adapter（画像プロンプト／参照スタイル・FaceID等）
キーワード：load_ip_adapter()、set_ip_adapter_scale()、（FaceID系もあり）。SDXLパイプラインで利用可能。


3) 編集系（プロンプトでの画像編集）

InstructPix2Pix for SDXL（指示文での編集）
キーワード：StableDiffusionXLInstructPix2PixPipeline、image_guidance_scale。

一般的な編集（色味・質感寄せ、参照画像スタイル注入）
キーワード：IP-Adapter（参照スタイル注入）、ControlNet/Adapterのdepth/normal/tile等で保持したい構造を制御。


4) 個人化・アダプタ読み込み（学習済み重みの適用）

LoRAの読み込み・保存
キーワード：load_lora_weights()、fuse_lora()、save_lora_weights()（SDXL対応）。

Textual Inversion（追加トークン埋め込み）
キーワード：load_textual_inversion()（SDXL対応、ドキュメントに明記）。

各種アダプタの同時利用
例：IP-Adapter＋T2I-Adapter、複数Adapter（MultiAdapter）、複数ControlNet。


5) スケジューラ（サンプラー）の切替

代表キーワード：EulerAncestralDiscreteScheduler、DPMSolverMultistepScheduler、HeunDiscreteScheduler、Karras系設定 など。


6) 非対応（解析系タスク）

SDXL（diffusersのSDXLパイプライン）は生成モデルのため、以下は直接は不可です。

物体検知（Object Detection）：非対応（解析系は別フレームワークの領域）。

物体認識／分類（Recognition/Classification）：非対応。

セグメンテーション（解析としての分割）：非対応。
※ただし「セグメンテーションマップを条件に生成を制御」はControlNet/T2I-Adapterで可能（セマンティックマップを入力条件として使う用途）。



---

そのまま検索に使える“ヒント用キーワード”まとめ

Pipelines：StableDiffusionXLPipeline / StableDiffusionXLImg2ImgPipeline / StableDiffusionXLInpaintPipeline / StableDiffusionXLRefinerPipeline / StableDiffusionXLControlNetPipeline / StableDiffusionXLAdapterPipeline / StableDiffusionXLInstructPix2PixPipeline / AutoPipelineForText2Image / AutoPipelineForImage2Image。

Adapters：load_lora_weights / fuse_lora / load_textual_inversion / load_ip_adapter / set_ip_adapter_scale / T2IAdapter / MultiAdapter。

Control 種別（モデル名の目印）：canny、hed/softedge、openpose、depth-midas/depth-zoe、normal、mlsd、lineart、tile、seg。

高速系：stabilityai/sdxl-turbo、ByteDance/SDXL-Lightning、latent-consistency/lcm-lora-sdxl、LCMScheduler。

最適化：enable_model_cpu_offload、enable_sequential_cpu_offload、enable_vae_tiling、attention_slicing、各種Scheduler名。


ご所望でしたら、特定タスク（例：ポーズ→画像、線画→着彩、外周拡張、参照スタイル注入など）ごとに最小コード断片と主要引数の意味一覧もお出しできます。



作成日時: 2025-10-02 08:53:13