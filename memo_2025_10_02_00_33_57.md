# メモ

はい、ご主人さま。SDXLを中心に、2020年以降の“データセット増強（Data Augmentation／合成データ）”の流れを要点→年表→SDXLで追試できる実験レシピの順でまとめました。

要点（結論）

2020–2021：従来型の自動Augmentと**SSL（自己教師あり）**が実務標準化。AugMix/TrivialAugment、FixMatch・SimCLR/BYOL が代表。

2022–2023：拡散モデル（Stable Diffusion系）による生成拡張が台頭。既存画像を意味的に編集して多様化する研究が本流化（DA-Fusion/ALIA）。SDXLとControlNet/T2I-Adapter/IP-Adapterで制御性が飛躍。

2024–2025：拡散×データセット蒸留（Distillation）や長尾対策・公平性など“タスク駆動の合成”が進展。低データや不均衡に対する系統的な枠組みが提案。



---

年表でみる主要トレンド（2020→）

2020

AugMix（頑健性・不確実性改善の単純手法）。

FixMatch（弱→強Aug一致＋疑似ラベルの簡潔なSSL）。

SimCLR/BYOL（コントラスト学習で“Augの設計”が核心に）。

FMix（MixUp/CutMix系の進化）。


2021

TrivialAugment（ノーチューニングで強力な自動Aug）。


2022

Textual Inversion / DreamBooth（少枚数の対象適応）。合成データでクラス希少を補う下地に。

Stable Diffusion 公開で実務が加速。


2023

DA-Fusion：事前学習拡散モデルで高次セマンティクスを変える編集Augを提案（ICLR）。

ALIA：LLMの言語記述→拡散編集→CLIP等で腐敗フィルタの自動化。

SDXL 1.0登場、ControlNet/T2I-Adapter/IP-AdapterがSDXL対応。


2024–2025

D4M（CVPR’24）などの拡散×データセット蒸留。UniDD（CVPR’25）等のタスク駆動蒸留。

公平性・長尾対策や医療分野など目的特化の拡散Augの実証が増加。



---

SDXLで“すぐ追試できる”実験レシピ（Diffusers基準）

下の各レシピはクラス分類や検出など汎用を想定。IQAのような低レベル画質評価では、最後の「注意点」も必読です。

1) 既存画像の意味的編集Aug（DA-Fusion系）

目的：犬種・車種・背景コンテキストなど高次セマンティクスをバリエーション化。

ツール：StableDiffusionXLImg2ImgPipeline + プロンプト編集。

手順キーワード：

1. 画像→軽いノイズ入れてimg2img、2) プロンプトに属性差分（例：「red sedan→blue hatchback」）、3) 生成をCLIP/分類器の信頼度でフィルタ。



参考：DA-Fusion（ICLR）。

SDXL導入ガイド：Diffusers SDXL docs。


2) 背景だけ多様化（クラス本体は固定）

目的：背景バイアス除去。

ツール：StableDiffusionXLInpaintPipeline、マスク＝前景。

手順キーワード：セグマスクで前景固定→背景を「工場/屋外/夜間/雨天」などで差し替え→分類器信頼度で不適合を除外。

参考：Diffusers inpaint。


3) 構造（ポーズ/レイアウト）を制御して多様化

目的：姿勢・構図・カメラアングルの網羅。

ツール：ControlNet-SDXL（OpenPose/Depth/Canny）またはT2I-Adapter-SDXL。

手順キーワード：StableDiffusionXLControlNetPipeline でOpenPose/Depth等を条件入力→同一ラベルで姿勢/視点を振る。

参考：ControlNet SDXL / T2I-Adapter SDXL。


4) スタイル/色相だけを変える（ID保持）

目的：色・質感バリエーション（長尾色の補完）

ツール：IP-Adapter（色/スタイル）+ SDXL

手順キーワード：参照画像（色/スタイル）→IP-Adapterで色やトーンのみ移送→ラベル一致を確認。

参考：IP-Adapter（SDXL対応の実装/解説）。


5) 少枚数対象の個別適応→合成増殖

目的：レアクラスや特定機種・銘柄の枚数補完。

ツール：DreamBooth / Textual Inversion + SDXL（LoRA可）

手順キーワード：3–10枚で個別適応→同一IDの多背景・多照明を生成→重複・崩れをフィルタ。

参考：DreamBooth / Textual Inversion。

SDXLのLoRA学習ガイド。


6) SSLと合成の併用（ラベル少＋未ラベル多）

目的：未ラベルを活かしつつ、生成画像で決定境界を厚く。

ツール：FixMatch系学習ループ＋上記1–4の合成。

手順キーワード：未ラベルに弱Aug→高信頼擬似ラベル→強Aug（DA-Fusion/背景置換/姿勢変更）で一貫性学習。


7) クラス内多様性の自動発見→拡散編集（ALIA系）

目的：データのドメイン記述を自動抽出して、その軸で編集Aug。

ツール：キャプショナー＋LLMでドメイン語彙→SDXL編集→CLIP/分類器で質チェック。

参考：ALIA（NeurIPS’23）。


8) 拡散×データセット蒸留（研究再現）

目的：小さな合成コアセットで学習コストを削減。

ツール：既存蒸留コード（D4M/UniDD等）＋SDXL下流評価。

参考：D4M（CVPR’24）、UniDD（CVPR’25）。



---

参考になる実装・ドキュメント（SDXL/Diffusers）

SDXL API/使用ガイド（テキスト→画像・img2img・Refiner）。

ControlNet for SDXL（Depth/Edge/OpenPose等）。

T2I-Adapter for SDXL（Canny/Lineart/OpenPose/Sketch）。

IP-Adapter（画像リファレンスによるスタイル/色/ID制御、SDXL対応）。

SDXLリリース（Stability AI公式）。



---

実務上の注意（特にIQAや低レベル評価を扱うとき）

低レベル特性の保存：生成編集は色ノイズ・圧縮傷などの微細統計を壊しがち。IQAなどはControlNet/T2I-Adapterで構造だけ固定し、色や背景のみを振るなど“壊してよい軸／だめな軸”を分ける。

品質フィルタ：CLIP類似度や既存分類器の信頼度・不一致検出で不適合合成を除去（ALIAの設計思想）。

重複と漏洩：近傍重複（perceptual hash/CLIP距離）除去、学習・検証間の“合成リーク”防止。

ライセンス：SDXLは公開モデルだが、利用条件はStability AIの告知やDiffusersの各チェックポイント記載を確認。



---

付録：従来Augの“いま”

AugMix/TrivialAugmentは少データでも効きやすい堅実な土台。拡散合成と併用が定石です。

**Mix系（CutMix/FMIX）**はラベル補間や局所貼り付けで境界条件を増やす古典的強化。


ご所望の「SDXLで追試」は、上のレシピ1–4（img2img／inpaint／ControlNet／T2I-Adapter／IP-Adapter）が最短距離でございます、ご主人さま。



作成日時: 2025-10-02 09:32:19